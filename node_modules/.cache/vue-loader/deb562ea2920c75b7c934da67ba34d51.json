{"remainingRequest":"/Users/progressive/Documents/projects/pman/after-school-classes/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/progressive/Documents/projects/pman/after-school-classes/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/progressive/Documents/projects/pman/after-school-classes/src/views/Home.vue","mtime":1609810893505},{"path":"/Users/progressive/Documents/projects/pman/after-school-classes/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/progressive/Documents/projects/pman/after-school-classes/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlICovCmltcG9ydCB7bWFwTXV0YXRpb25zLCBtYXBHZXR0ZXJzfSBmcm9tICd2dWV4JwppbXBvcnQge2xlc3NvbnN9IGZyb20gJy4uL2FwaXMvbGVzc29ucy5qcycKZXhwb3J0IGRlZmF1bHQgewoJbmFtZTogJ0hvbWUnLAoJY29tcG9uZW50czoge30sCglkYXRhKCkgewoJCXJldHVybiB7CgkJCXNvcnQ6ICdwcmljZScsCgkJCWRpcjogJ2Rlc2MnCgkJfQoJfSwKCW1vdW50ZWQoKSB7CgkJdGhpcy5sb2FkTGVzc29ucygpCgl9LAoJY29tcHV0ZWQ6IHsKCQkuLi5tYXBHZXR0ZXJzKFsnbGVzc29ucycsICdjYXJ0J10pLAoJCWNvbXB1dGVkTGVzc29ucygpIHsKCQkJaWYgKHRoaXMuc29ydCAmJiB0aGlzLmRpcikgewoJCQkJc3dpdGNoICh0aGlzLnNvcnQpIHsKCQkJCQljYXNlICdwcmljZSc6CgkJCQkJCXRoaXMubGVzc29ucy5zb3J0KChhLCBiKSA9PiB7CgkJCQkJCQlpZiAoYS5wcmljZSA8IGIucHJpY2UpIHsKCQkJCQkJCQlyZXR1cm4gLTEKCQkJCQkJCX0KCQkJCQkJCWlmIChhLnByaWNlID4gYi5wcmljZSkgewoJCQkJCQkJCXJldHVybiAxCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gMAoJCQkJCQl9KQoJCQkJCQlpZiAodGhpcy5kaXIgPT09ICdkZXNjJykgewoJCQkJCQkJdGhpcy5sZXNzb25zLnJldmVyc2UoKQoJCQkJCQl9CgkJCQkJCXJldHVybiB0aGlzLmxlc3NvbnMKCQkJCQkJYnJlYWsKCQkJCQljYXNlICdsb2NhdGlvbic6CgkJCQkJCXRoaXMubGVzc29ucy5zb3J0KChhLCBiKSA9PiBhLmxvY2F0aW9uLmxvY2FsZUNvbXBhcmUoYi5sb2NhdGlvbikpCgkJCQkJCWlmICh0aGlzLmRpciA9PT0gJ2Rlc2MnKSB7CgkJCQkJCQl0aGlzLmxlc3NvbnMucmV2ZXJzZSgpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHRoaXMubGVzc29ucwoJCQkJCWNhc2UgJ3NwYWNlJzoKCQkJCQkJdGhpcy5sZXNzb25zLnNvcnQoKGEsIGIpID0+IHsKCQkJCQkJCWlmIChhLnNwYWNlIDwgYi5zcGFjZSkgewoJCQkJCQkJCXJldHVybiAtMQoJCQkJCQkJfQoJCQkJCQkJaWYgKGEuc3BhY2UgPiBiLnNwYWNlKSB7CgkJCQkJCQkJcmV0dXJuIDEKCQkJCQkJCX0KCQkJCQkJCXJldHVybiAwCgkJCQkJCX0pCgkJCQkJCWlmICh0aGlzLmRpciA9PT0gJ2Rlc2MnKSB7CgkJCQkJCQl0aGlzLmxlc3NvbnMucmV2ZXJzZSgpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHRoaXMubGVzc29ucwoJCQkJCQlicmVhawoJCQkJCWNhc2UgJ2xlc3Nvbic6CgkJCQkJCXRoaXMubGVzc29ucy5zb3J0KChhLCBiKSA9PiBhLmxlc3Nvbi5sb2NhbGVDb21wYXJlKGIubGVzc29uKSkKCQkJCQkJaWYgKHRoaXMuZGlyID09PSAnZGVzYycpIHsKCQkJCQkJCXRoaXMubGVzc29ucy5yZXZlcnNlKCkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gdGhpcy5sZXNzb25zCgkJCQkJCWJyZWFrCgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gdGhpcy5sZXNzb25zCgkJCX0KCQl9Cgl9LAoJbWV0aG9kczogewoJCS4uLm1hcE11dGF0aW9ucyhbJ2FkZExlc3NvbicsICdjbGVhckxlc3NvbnMnLCAnYWRkVG9DYXJ0J10pLAoJCWxvYWRMZXNzb25zOiBhc3luYyBmdW5jdGlvbigpIHsKCQkJdHJ5IHsKCQkJCWxldCByZXN1bHQgPSBhd2FpdCBsZXNzb25zKCkKCQkJCXRoaXMuY2xlYXJMZXNzb25zKCkKCQkJCWZvciAobGV0IGxlc3NvbiBvZiByZXN1bHQubGVzc29ucykgewoJCQkJCXRoaXMuYWRkTGVzc29uKGxlc3NvbikKCQkJCX0KCQkJfSBjYXRjaCAoZXJyb3IpIHsKCQkJCWNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpCgkJCX0KCQl9LAoJCWFkZENhcnQobGVzc29uLCBpbmRleCkgewoJCQlsZXQgZXhpc3QgPSB0aGlzLmNhcnQuZmluZEluZGV4KChlKSA9PiBlLmxlc3NvbiA9PT0gbGVzc29uKQoJCQlsZXQgY3VycmVudCA9IHRoaXMubGVzc29uc1tpbmRleF0KCQkJaWYgKGV4aXN0ICE9PSAtMSkgewoJCQkJdGhpcy5jYXJ0W2V4aXN0XS5xdWFudGl0eSsrCgkJCQl0aGlzLmNhcnRbZXhpc3RdLnRvdGFsID0gdGhpcy5jYXJ0W2V4aXN0XS50b3RhbCArIGN1cnJlbnQucHJpY2UKCQkJfSBlbHNlIHsKCQkJCWxldCBpdGVtID0gewoJCQkJCWxlc3NvbiwKCQkJCQlxdWFudGl0eTogMSwKCQkJCQl0b3RhbDogY3VycmVudC5wcmljZQoJCQkJfQoJCQkJdGhpcy5hZGRUb0NhcnQoaXRlbSkKCQkJfQoKCQkJdGhpcy5sZXNzb25zW2luZGV4XS5zcGFjZS0tCgkJfSwKCQl2aWV3Q2FydCgpIHsKCQkJdGhpcy4kcm91dGVyLnB1c2goJy9jYXJ0JykKCQl9Cgl9Cn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n\t<div class=\"home p-5\">\n\t\t<div class=\"d-flex justify-content-between align-items-center\">\n\t\t\t<h3>Available Lessons</h3>\n\t\t\t<div>\n\t\t\t\t<div class=\"form-inline\">\n\t\t\t\t\t<div class=\"form-group mb-2 mr-3\">\n\t\t\t\t\t\t<h5 for=\"staticEmail2\">Sort</h5>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group mb-2\">\n\t\t\t\t\t\t<label for=\"staticEmail2\" class=\"sr-only\">Sort</label>\n\t\t\t\t\t\t<select class=\"form-control\" v-model=\"sort\">\n\t\t\t\t\t\t\t<option value=\"lesson\">Subject</option>\n\t\t\t\t\t\t\t<option value=\"location\">Location</option>\n\t\t\t\t\t\t\t<option value=\"price\">Price</option>\n\t\t\t\t\t\t\t<option value=\"space\">Availability</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group mx-sm-3 mb-2\">\n\t\t\t\t\t\t<label for=\"inputPassword2\" class=\"sr-only\">Direction</label>\n\t\t\t\t\t\t<select class=\"form-control\" v-model=\"dir\">\n\t\t\t\t\t\t\t<option value=\"asc\">Ascending</option>\n\t\t\t\t\t\t\t<option value=\"desc\">Descending</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group mx-sm-3 mb-2\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tv-if=\"cart.length > 0\"\n\t\t\t\t\t\t\tclass=\"btn btn-success\"\n\t\t\t\t\t\t\t@click=\"viewCart\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tView Cart ({{ cart.length }})\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-12\" v-for=\"(lesson, i) of computedLessons\" :key=\"i\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"border px-5 py-2 my-2 d-flex justify-content-between align-items-center\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"d-flex justify-content-start align-items-center\">\n\t\t\t\t\t\t<div class=\"mr-3\">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t:src=\"lesson.image\"\n\t\t\t\t\t\t\t\tstyle=\"height: 100px; width: 100px; border-radius: 10px\"\n\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"pt-2 text-capitalize\">\n\t\t\t\t\t\t\t<p>Subject: {{ lesson.lesson }}</p>\n\t\t\t\t\t\t\t<p>Location: {{ lesson.location }}</p>\n\t\t\t\t\t\t\t<p>Spaces Left: {{ lesson.space }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>Price: Â£{{ lesson.price }}</p>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t:disabled=\"lesson.space === 0\"\n\t\t\t\t\t\t\tclass=\"btn btn-primary\"\n\t\t\t\t\t\t\t@click=\"addCart(lesson._id, i)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdd to cart\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n/* eslint-disable */\nimport {mapMutations, mapGetters} from 'vuex'\nimport {lessons} from '../apis/lessons.js'\nexport default {\n\tname: 'Home',\n\tcomponents: {},\n\tdata() {\n\t\treturn {\n\t\t\tsort: 'price',\n\t\t\tdir: 'desc'\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.loadLessons()\n\t},\n\tcomputed: {\n\t\t...mapGetters(['lessons', 'cart']),\n\t\tcomputedLessons() {\n\t\t\tif (this.sort && this.dir) {\n\t\t\t\tswitch (this.sort) {\n\t\t\t\t\tcase 'price':\n\t\t\t\t\t\tthis.lessons.sort((a, b) => {\n\t\t\t\t\t\t\tif (a.price < b.price) {\n\t\t\t\t\t\t\t\treturn -1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (a.price > b.price) {\n\t\t\t\t\t\t\t\treturn 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0\n\t\t\t\t\t\t})\n\t\t\t\t\t\tif (this.dir === 'desc') {\n\t\t\t\t\t\t\tthis.lessons.reverse()\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this.lessons\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'location':\n\t\t\t\t\t\tthis.lessons.sort((a, b) => a.location.localeCompare(b.location))\n\t\t\t\t\t\tif (this.dir === 'desc') {\n\t\t\t\t\t\t\tthis.lessons.reverse()\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this.lessons\n\t\t\t\t\tcase 'space':\n\t\t\t\t\t\tthis.lessons.sort((a, b) => {\n\t\t\t\t\t\t\tif (a.space < b.space) {\n\t\t\t\t\t\t\t\treturn -1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (a.space > b.space) {\n\t\t\t\t\t\t\t\treturn 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0\n\t\t\t\t\t\t})\n\t\t\t\t\t\tif (this.dir === 'desc') {\n\t\t\t\t\t\t\tthis.lessons.reverse()\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this.lessons\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'lesson':\n\t\t\t\t\t\tthis.lessons.sort((a, b) => a.lesson.localeCompare(b.lesson))\n\t\t\t\t\t\tif (this.dir === 'desc') {\n\t\t\t\t\t\t\tthis.lessons.reverse()\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this.lessons\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn this.lessons\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t...mapMutations(['addLesson', 'clearLessons', 'addToCart']),\n\t\tloadLessons: async function() {\n\t\t\ttry {\n\t\t\t\tlet result = await lessons()\n\t\t\t\tthis.clearLessons()\n\t\t\t\tfor (let lesson of result.lessons) {\n\t\t\t\t\tthis.addLesson(lesson)\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error.message)\n\t\t\t}\n\t\t},\n\t\taddCart(lesson, index) {\n\t\t\tlet exist = this.cart.findIndex((e) => e.lesson === lesson)\n\t\t\tlet current = this.lessons[index]\n\t\t\tif (exist !== -1) {\n\t\t\t\tthis.cart[exist].quantity++\n\t\t\t\tthis.cart[exist].total = this.cart[exist].total + current.price\n\t\t\t} else {\n\t\t\t\tlet item = {\n\t\t\t\t\tlesson,\n\t\t\t\t\tquantity: 1,\n\t\t\t\t\ttotal: current.price\n\t\t\t\t}\n\t\t\t\tthis.addToCart(item)\n\t\t\t}\n\n\t\t\tthis.lessons[index].space--\n\t\t},\n\t\tviewCart() {\n\t\t\tthis.$router.push('/cart')\n\t\t}\n\t}\n}\n</script>\n"]}]}